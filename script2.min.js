function result(a){var i=a,n=0,g=0,p=0,m=0,r=[],s="<h2>検索結果</h2>",e=[],u=[],t=[],o=[],h=[],l=[];for(var n in data)for(var g in data[n].list)if(i==data[n].list[g].name)var d=data[n].type,k=data[n].list[g].name,c=data[n].list[g].grade,f=data[n].list[g].rare,v=data[n].list[g].img,y=data[n].list[g].no;for(var p in data)e.push(data[p].type);for(var p in data){for(var m in data[p].list)var b=data[p].type;for(var w in data[p].comb){var j=data[p].comb[w].n1,x=data[p].comb[w].n2;if(d==j||d==x){var z=0;for(var m in e){if(b==e[m]){pp=[],u=data[m].list;for(var G=0;G<u.length;G++)summonListGrade=u[G].grade,pp.push(summonListGrade)}d==x?j==e[m]&&(t=data[m].list,r.push(data[m].type)):x==e[m]&&(t=data[m].list,r.push(data[m].type))}var H=[],N=[];numnum=-1,prevGrade=0;for(var S in t)aveNum=Math.floor((c+t[S].grade)/2+1),H.push(aveNum);for(var I in u)N.push(u[I].grade);var L=0;I=0;for(var L in H){o.push(t[L]);var M=0;for(var I in N)if(set=String(Number(I)+1),(u[I].grade>=H[L]||set==u.length)&&0==M){M=1;h.push(u[I]),z++}}l.push(z)}}}if(h.length>0)for(G=0,p=0;p<l.length;p++){s+='<article class="sozai-search"><h3>'+d+"<br>×<br>"+r[p]+"</h3>";for(m=0;m<l[p];m++)s+='<ul class="rare'+o[G].rare.length+'"><li><span class="result-name">+ '+o[G].name+'</span><div class="result-item"><img src="'+o[G].img+'" alt=""><span class="result-rare">'+o[G].rare+'</span><span class="result-grade">Grade <span class="result-grade-num">'+o[G].grade+'</span></span></div></li><li><span class="result-name">= '+h[G].name+'</span><div class="result-item"><img src="'+h[G].img+'" alt=""><span class="result-rare">'+h[G].rare+'</span><span class="result-grade">Grade <span class="result-grade-num">'+h[G].grade+"</span></span></div></li></ul>",G++;s+="</article>"}history.replaceState("","","#no"+y),$("#info-ic").html('<img src="'+v+'" alt="">'),$("#info-name span").text(k),$("#info-grade span").text(c),$("#info-type span").text(d),$("#info-rare span").text(f),$("#result").html(s),now=$("#search").val()}$(function(){function a(){$("#info-name span, #info-grade span, #info-type span, #info-rare span").text(" "),$("#result").empty(),1==flag&&window.history.pushState(location.hash,null),result(search.val())}flag=!1,now="",search=$("#search"),$("head").append("<style></style>"),$("#search-btn").click(function(){""!=search.val()&&search.val()!=now&&a()}),search.keypress(function(i){13==i.which&&""!=search.val()&&search.val()!=now&&a()}),$('input[type="checkbox"]').change(function(){if($(this).prop("checked"))$("head style").append("."+$(this).attr("id")+"{display:none !important}");else{var a="."+$(this).attr("id")+"{display:none !important}";$("head style").html($("head style").html().replace(a,""))}}),$(window).on("load hashchange",function(){if(searchHash=location.hash.substring(3),""!=searchHash&&searchHash<150)for(var a in data)for(var i in data[a].list){var n=data[a].list[i].name;if(data[a].list[i].no==searchHash)return search.val(n),$("#info-name span, #info-grade span, #info-type span, #info-rare span").text(" "),$("#result").empty(),result(search.val()),!1}else $("#info-name span, #info-grade span, #info-type span, #info-rare span").text(" "),$("#info-ic, #result").empty(),search.val("")}).one("load",function(){flag=!0,$("#search-remove input").prop("checked",!1)})});
